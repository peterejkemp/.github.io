<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>MASTEMR - 05 Introduction to PISA</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link rel="stylesheet" href="../css/mastemr.css">
</head>
<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="index.qmd" class="navbar-brand navbar-brand-logo">
    <img src="../images/KCL_logo.png" alt="" class="navbar-logo"></a>
    <a class="navbar-brand" href="index.qmd">
    <span class="navbar-title">MASTEMR</span>
    </a>
  </div>
        <div class="quarto-navbar-tools ms-auto">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/01-Intro_to_quant_methods.html">Sessions</a></li><li class="breadcrumb-item"><a href="../chapters/05-Introduction_to_PISA.html">05 Introduction to PISA</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Sessions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/01-Intro_to_quant_methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">01 Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">02 Intro to R</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/02-1-Intro_to_analysis_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">02 Introduction to R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/02-2-Intro_to_analysis_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">02 Loading packages and exploring data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/02-3-Intro_to_analysis_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">02 Piping and dplyr</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/02-4-Intro_to_graphs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">02 Intro to graphs</span></a>
  </div>
</li>
      </ul>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/03-Differing_performance_in_STEM_PISA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">03 Descriptive Statistics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/04-Presentations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">04 Presentations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/05-Introduction_to_PISA.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">05 Introduction to PISA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/06-ChisqPISA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">06 Maths anxiety</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/07-Inquiry_learning_in_science_RB_version.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">07 Inquiry learning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/08-Science_capital.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">08 Science capital</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/09-Assignment_3_tutorials.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">09 Assignment 3 tutorials</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/10-teachers_relationships_and_STEM_achievement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10 Correlation and regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/11-selecting_statistical_tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">11 Selecting statistical tools</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/12-effective_international_STEM_ed.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">12 Effective international STEM education</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/QandA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Questions and Answers</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Data sets</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/A1-PISA_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PISA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/A2-DfE_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DfE England</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/A3-TIMSS_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TIMSS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/A4-Other_datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other datasets</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#introduction-to-pisa" id="toc-introduction-to-pisa" class="nav-link active" data-scroll-target="#introduction-to-pisa"><span class="header-section-number">1</span> Introduction to PISA</a></li>
  <li>
<a href="#seminar-activities" id="toc-seminar-activities" class="nav-link" data-scroll-target="#seminar-activities"><span class="header-section-number">2</span> Seminar activities</a>
  <ul class="collapse">
<li><a href="#discussion-activity" id="toc-discussion-activity" class="nav-link" data-scroll-target="#discussion-activity"><span class="header-section-number">2.1</span> Discussion activity</a></li>
  </ul>
</li>
  <li>
<a href="#a-reminder-about-summarising-data-graphing-and-categorising" id="toc-a-reminder-about-summarising-data-graphing-and-categorising" class="nav-link" data-scroll-target="#a-reminder-about-summarising-data-graphing-and-categorising"><span class="header-section-number">3</span> A reminder about summarising data, graphing and categorising</a>
  <ul class="collapse">
<li><a href="#summarising-data" id="toc-summarising-data" class="nav-link" data-scroll-target="#summarising-data"><span class="header-section-number">3.1</span> Summarising data</a></li>
  <li><a href="#bar-charts" id="toc-bar-charts" class="nav-link" data-scroll-target="#bar-charts"><span class="header-section-number">3.2</span> Bar charts</a></li>
  <li><a href="#scatter-plots" id="toc-scatter-plots" class="nav-link" data-scroll-target="#scatter-plots"><span class="header-section-number">3.3</span> Scatter plots</a></li>
  <li><a href="#density-plots" id="toc-density-plots" class="nav-link" data-scroll-target="#density-plots"><span class="header-section-number">3.4</span> Density plots</a></li>
  <li><a href="#facet-wrapping---producing-the-same-graph-for-multiple-countries." id="toc-facet-wrapping---producing-the-same-graph-for-multiple-countries." class="nav-link" data-scroll-target="#facet-wrapping---producing-the-same-graph-for-multiple-countries."><span class="header-section-number">3.5</span> Facet wrapping - producing the same graph for multiple countries.</a></li>
  <li><a href="#categorizing-responses" id="toc-categorizing-responses" class="nav-link" data-scroll-target="#categorizing-responses"><span class="header-section-number">3.6</span> Categorizing responses</a></li>
  </ul>
</li>
  <li>
<a href="#tasks" id="toc-tasks" class="nav-link" data-scroll-target="#tasks"><span class="header-section-number">4</span> Tasks</a>
  <ul class="collapse">
<li><a href="#task1" id="toc-task1" class="nav-link" data-scroll-target="#task1"><span class="header-section-number">4.1</span> Task1</a></li>
  <li><a href="#task2" id="toc-task2" class="nav-link" data-scroll-target="#task2"><span class="header-section-number">4.2</span> Task2</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">05 Introduction to PISA</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><section id="introduction-to-pisa" class="level1" data-number="1"><h1 data-number="1">
<span class="header-section-number">1</span> Introduction to PISA</h1>
<p>Though it has been noted that interest, as measured by publications, interest in International large-scale assessments (ILSAs) peaked around 2012 <span class="citation" data-cites="jerrim2023has">(<a href="#ref-jerrim2023has" role="doc-biblioref">Jerrim 2023</a>)</span>, ILSAs remain a useful comparative tool for detecting patterns in educational achievement over time and across countries.</p>
<p>The OECD Programme for International Student Assessment is an international, survey of 15-year-old students <span class="citation" data-cites="OECD2018technical">(<a href="#ref-OECD2018technical" role="doc-biblioref">OECD 2018</a>)</span>. The survey includes items that measure achievement in mathematics, reading and science, various competencies (for example, digital skills and problem solving) and participants’ perceptions of their school and home. In addition to the student survey which is the focus of this paper, teacher and parent surveys collect additional data.</p>
<p>The first PISA survey took place in 2000 (this round of data collection was followed by the inclusion of additional countries in 2001) <span class="citation" data-cites="OECD2018technical">(<a href="#ref-OECD2018technical" role="doc-biblioref">OECD 2018</a>)</span>. The assessment has taken place every three years (2000, 2003, 2006, 2009, 2012, 2015, 2018 and 2022). The 2022 survey was delayed due to the COVID pandemic <span class="citation" data-cites="OECD2021adjusted">(<a href="#ref-OECD2021adjusted" role="doc-biblioref">OECD 2021</a>)</span>. The number of participating countries has risen from 43, in 2000, to XXXX in 2022. The number of participating students is shown in Table 1.</p>
<p>Table 1: Number of students completing PISA assessment by year</p>
<table class="table">
<thead><tr class="header">
<th>Year</th>
<th>Number completing assessment</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>2000</td>
<td>265,000</td>
</tr>
<tr class="even">
<td>2003</td>
<td>275,000</td>
</tr>
<tr class="odd">
<td>2006</td>
<td>400,000</td>
</tr>
<tr class="even">
<td>2009</td>
<td>470,000</td>
</tr>
<tr class="odd">
<td>2012</td>
<td>510,000</td>
</tr>
<tr class="even">
<td>2015</td>
<td>540,000</td>
</tr>
<tr class="odd">
<td>2018</td>
<td>600,000</td>
</tr>
<tr class="even">
<td>2022</td>
<td>690,000</td>
</tr>
</tbody>
</table>
<p>The PISA survey uses a probabilistic, stratified clustered survey design <span class="citation" data-cites="jerrim2017weight">(<a href="#ref-jerrim2017weight" role="doc-biblioref">Jerrim et al. 2017</a>)</span>.</p>
<p>To ensure that countries make equal contributions to regression models when they have different response rates, senate weights are applied to data <span class="citation" data-cites="jerrim2017weight">(<a href="#ref-jerrim2017weight" role="doc-biblioref">Jerrim et al. 2017</a>)</span>.</p>
<p>A number of limitations of the PISA methodology have been noted. Sampling issues, including sample representatives, non-response rates and population coverage <span class="citation" data-cites="zieger2022conditioning rutkowski2016call gillis2016pisa hopmann2007pisa">(<a href="#ref-zieger2022conditioning" role="doc-biblioref">Zieger et al. 2022</a>; <a href="#ref-rutkowski2016call" role="doc-biblioref">Rutkowski and Rutkowski 2016</a>; <a href="#ref-gillis2016pisa" role="doc-biblioref">Gillis, Polesel, and Wu 2016</a>; <a href="#ref-hopmann2007pisa" role="doc-biblioref">Hopmann, Brinek, and Retzl 2007</a>)</span>.</p>
<p><span class="citation" data-cites="anders2021canada">Anders et al. (<a href="#ref-anders2021canada" role="doc-biblioref">2021</a>)</span> and <span class="citation" data-cites="jerrim2021pisa">Jerrim (<a href="#ref-jerrim2021pisa" role="doc-biblioref">2021</a>)</span> have shown that assumptions for imputing values for non-participating students used to construct the sample may have significant impacts on achievement scores.</p>
<p>Three sources of error are worth considering <span class="citation" data-cites="OECD2019">(<a href="#ref-OECD2019" role="doc-biblioref">OECD 2019</a>)</span>. First, sampling error, uncertainty in the degree to which results from the sample generalise to wider populations - in 2018, the OECD average sampling error was 0.4 of a PISA point score. Second, measurement error, uncertainty in the extent to which test items measure proficiency. In 2018, the measurement error was around 0.8 of a point in mathematics and science and 0.5 of a score point in reading. Third, the link error is the uncertainty in comparison between scores in different years. For comparisons of Science scores between 2018 and 2015, the link error is 1.5 points.</p>
<p>From 2015, the majority of countries have used computer based test, following a switch from paper assessments <span class="citation" data-cites="jerrim2016pisa">(<a href="#ref-jerrim2016pisa" role="doc-biblioref">Jerrim 2016</a>)</span>. A randomised control trial of the two methods of delivery, conducted by the OECD prior to the switch indicated a difference in score between those taking paper and computer tests. The OECD introduced an adjustment to compensate for this effect, but the difference is not entirely removed by the correction <span class="citation" data-cites="jerrim2016pisa">Jerrim et al. (<a href="#ref-jerrim2018pisa" role="doc-biblioref">2018</a>)</span>. However, Jerrim notes that ‘in terms of cross-country rankings, there remains a high degree of consistency…the vast majority of countries are simply ’shifted’ by a uniform amount’ (pp.&nbsp;508-509).</p>
<p>See also <span class="citation" data-cites="feskens2019differential">Feskens, Fox, and Zwitser (<a href="#ref-feskens2019differential" role="doc-biblioref">2019</a>)</span> - change in scores due to changed mode. E.g. ‘The reported decrease in mean science scores in 2015 was larger than the decrease in mathematics.4 This might be due to the introduction of new interactive items, which only took place for the science domain.’ <span class="citation" data-cites="feskens2019differential">(<a href="#ref-feskens2019differential" role="doc-biblioref">Feskens, Fox, and Zwitser 2019, 245</a>)</span></p>
</section><section id="seminar-activities" class="level1" data-number="2"><h1 data-number="2">
<span class="header-section-number">2</span> Seminar activities</h1>
<section id="discussion-activity" class="level2" data-number="2.1"><h2 data-number="2.1" class="anchored" data-anchor-id="discussion-activity">
<span class="header-section-number">2.1</span> Discussion activity</h2>
</section></section><section id="a-reminder-about-summarising-data-graphing-and-categorising" class="level1" data-number="3"><h1 data-number="3">
<span class="header-section-number">3</span> A reminder about summarising data, graphing and categorising</h1>
<section id="summarising-data" class="level2" data-number="3.1"><h2 data-number="3.1" class="anchored" data-anchor-id="summarising-data">
<span class="header-section-number">3.1</span> Summarising data</h2>
<p>Recall you can use <code>group_by</code> and <code>summarise</code> to group individual student measures and find means and standard deviations for countries. For example, to find the mean wealth scores for the countries, and rank in descending order, we first select the variables of interest <code>CNT</code> and <code>WEALTH</code>, then <code>group_by</code> <code>CNT</code> and <code>summarise</code> to get the mean. As there are some NA values, we need to include <code>na.rm=TRUE</code> to tell <code>summarise</code> to ignore the missing values. Finally, we <code>arrange</code> in descending order by the new variable we create <code>meanwealth</code>. We can do the same and add a calculation to get the standard deviation.</p>
</section><section id="bar-charts" class="level2" data-number="3.2"><h2 data-number="3.2" class="anchored" data-anchor-id="bar-charts">
<span class="header-section-number">3.2</span> Bar charts</h2>
<p>Recall you can use <code>geom_bar</code> to plot a bar graph. For example, if we wanted to plot the <code>PISA2018WealthRank</code> dataframe we just created, we pass the data to <code>ggplot</code>. Recall that if you are passing <code>geom_bar</code> the exact values you want to plot, rather than making it count (for example, by including the original dataset with all student entries), you need to specify <code>geom_bar(stat='identity')</code></p>
<p>I have added <code>+theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))</code> which rotates the text on the x-axis.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We can improve this plot by reordering the x-axis to rank the countries - we switch <code>x=CNT</code> to <code>x=reorder(CNT, -meanwealth)</code> that is we reorder the x axis based on descending (indicated by the minus sign <code>-meanwealth</code>) meanwealth.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>If you like, you can add colour, tidy up the axis labels, and give a title:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section><section id="scatter-plots" class="level2" data-number="3.3"><h2 data-number="3.3" class="anchored" data-anchor-id="scatter-plots">
<span class="header-section-number">3.3</span> Scatter plots</h2>
<p>To plot a scatter plot, recall we use <code>geom_point</code>. For example, to plot reading scores against mathematics scores in China (note China’s CNT value: <code>B-S-J-Z (China)</code> which indicates the data ) we: a) create a data set of reading and science scores after filtering for China; b) pass the data to <code>ggplot</code>; c) use ’<code>aes</code> to specify the x and y variables and d) plot with geom_point().</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>That graph is quite dense, so we can use the <code>alpha</code> function to make the points slightly transparent, <code>size</code> to make them smaller, and set their colour. I will also tidy up the axis names and add a line.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section><section id="density-plots" class="level2" data-number="3.4"><h2 data-number="3.4" class="anchored" data-anchor-id="density-plots">
<span class="header-section-number">3.4</span> Density plots</h2>
<p>An alternative type of plot, you have seen before, is the density plot, which is a kind of continuous histogram. The density plot can be useful for visualising the achievement scores of students. For example, the mathematics scores of girls and boys (recall the gender variable is <code>ST004D01T</code>) in the US. Notice, for the plot, I use <code>aes</code> to set my x variable, and then specify that the plot should fill by gender (<code>fill=ST004D01T</code>). Finally, in <code>geom_density(alpha=0.6)</code> I set the alpha to 0.6 to make the fill areas partially transparent.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section><section id="facet-wrapping---producing-the-same-graph-for-multiple-countries." class="level2" data-number="3.5"><h2 data-number="3.5" class="anchored" data-anchor-id="facet-wrapping---producing-the-same-graph-for-multiple-countries.">
<span class="header-section-number">3.5</span> Facet wrapping - producing the same graph for multiple countries.</h2>
<p>A powerful feature of ggplot is being able to produce the same graph for multiple values of a variable, for example, for mutliple countries. For example, we may want to produce the density graph of <code>PV1MATH</code> score by gender, for several countries in the data set. To do that, we produce a data set of <code>PV1MATH</code> scores, and gender (<code>ST004D01T</code>) and filter for four countries (Philippines, UK, Bulgaria and Germany). We use the same code as above to plot the graphs but add <code>+facet_wrap(.~CNT)</code> - <code>facet_wrap</code> tells ggplot to produce a multipanel plot and <code>.~CNT</code> means do the same as above, but vary across countries.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section><section id="categorizing-responses" class="level2" data-number="3.6"><h2 data-number="3.6" class="anchored" data-anchor-id="categorizing-responses">
<span class="header-section-number">3.6</span> Categorizing responses</h2>
<p>A useful analytical choice is to categorise some a numerical variable into ordinal classes. For example, rather than treating <code>WEALTH</code> as a continuous scale, you might want to split into high and low wealth groups (for example, those above and below the mean value). To do this, first calculate the mean <code>mean(WEALTH)</code>. Then we add a new vector, which we will call <code>wealthclass</code> using the <code>mutate</code> function. We set the value of this <code>wealthclass</code> using <code>ifelse</code>. If <code>WEALTH</code> is more than the mean score, we set <code>wealthclass</code> to <code>HIGH</code>, and if it is anything else, we set it to <code>LOW</code>. We do that using <code>wealthclass=ifelse(WEALTH&gt;MeanUKwealth, "High", "Low")</code>. Note in <code>ifelse</code> the first value is returned if the identity is true (i.e.&nbsp;if <code>WEALTH&gt;MeanUKwealth</code> <code>wealthclass</code> is set to <code>High</code>). If the value if not true, the second value is set (e.g.&nbsp;if <code>WEALTH</code> is not <code>&gt; MeanUKwealth</code> then <code>wealthclass</code> is set to <code>LOW</code>)</p>
<p>For example, create a dataset of UK participants <code>WEALTH</code> sorted into <code>HIGH</code> and <code>LOW</code> categories.</p>
</section></section><section id="tasks" class="level1" data-number="4"><h1 data-number="4">
<span class="header-section-number">4</span> Tasks</h1>
<p><strong>Getting set up</strong></p>
<p>Ensure you have the PISA 2018 data set loaded. If you can see the PISA_2018 data frame in your environment window (at the top right of your screen), there is no need to reload.</p>
<section id="task1" class="level2" data-number="4.1"><h2 data-number="4.1" class="anchored" data-anchor-id="task1">
<span class="header-section-number">4.1</span> Task1</h2>
<p>Create a ranked list of countries by their mean science scores (<code>PV1SCIE</code>). What are the top five countries for science? Do the same for reading (<code>PV1READ</code>). What patterns do you notice? Why might a researcher be critical of such rankings [Extension: Include the standard deviation of each country (hint: use the <code>sd</code> function) - can you detect any patterns?]</p>
</section><section id="task2" class="level2" data-number="4.2"><h2 data-number="4.2" class="anchored" data-anchor-id="task2">
<span class="header-section-number">4.2</span> Task2</h2>
<div class="question">
<ul>
<li>Use geom_density to plot distributions Plot the distribution of Japanese and UK mathematics scores - what patterns do you notice?</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>Examine gender differences: Plot the distributions of mathematics achievement in the UK by gender.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>Facet wrap gender differences across countries</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div class="question">
<ul>
<li>Examine patterns of mathematics achievement by wealth</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Add colour to outliers</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Add label to outliers</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Examine Likert responses by country using Facet plot</p>
<p><code>ST125Q01NA</code> - How old were you when you started early childhood education?</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Then use faceting to split the plots by country</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Categorising Variables</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="05-Introduction_to_PISA_files/figure-html/loading_data-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>



</section></section><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-anders2021canada" class="csl-entry" role="listitem">
Anders, Jake, Silvan Has, John Jerrim, Nikki Shure, and Laura Zieger. 2021. <span>“Is Canada Really an Education Superpower? The Impact of Non-Participation on Results from PISA 2015.”</span> <em>Educational Assessment, Evaluation and Accountability</em> 33: 229–49.
</div>
<div id="ref-feskens2019differential" class="csl-entry" role="listitem">
Feskens, Remco, Jean-Paul Fox, and Robert Zwitser. 2019. <span>“Differential Item Functioning in PISA Due to Mode Effects.”</span> <em>Theoretical and Practical Advances in Computer-Based Educational Measurement</em>, 231–47.
</div>
<div id="ref-gillis2016pisa" class="csl-entry" role="listitem">
Gillis, Shelley, John Polesel, and Margaret Wu. 2016. <span>“PISA Data: Raising Concerns with Its Use in Policy Settings.”</span> <em>The Australian Educational Researcher</em> 43: 131–46.
</div>
<div id="ref-hopmann2007pisa" class="csl-entry" role="listitem">
Hopmann, Stefan Thomas, Gertrude Brinek, and Martin Retzl. 2007. <span>“PISA According to PISA: Does PISA Keep What It Promises.”</span> <em>Reihe Schulp<span>ä</span>dagogik Und P<span>ä</span>dagogische Psychologie, Bd</em> 6.
</div>
<div id="ref-jerrim2016pisa" class="csl-entry" role="listitem">
Jerrim, John. 2016. <span>“PISA 2012: How Do Results for the Paper and Computer Tests Compare?”</span> <em>Assessment in Education: Principles, Policy &amp; Practice</em> 23 (4): 495–518.
</div>
<div id="ref-jerrim2021pisa" class="csl-entry" role="listitem">
———. 2021. <span>“PISA 2018 in England, Northern Ireland, Scotland and Wales: Is the Data Really Representative of All Four Corners of the UK?”</span> <em>Review of Education</em> 9 (3): e3270.
</div>
<div id="ref-jerrim2023has" class="csl-entry" role="listitem">
———. 2023. <span>“Has Peak PISA Passed? An Investigation of Interest in International Large-Scale Assessments Across Countries and over Time.”</span> <em>European Educational Research Journal</em>, 14749041231151793.
</div>
<div id="ref-jerrim2017weight" class="csl-entry" role="listitem">
Jerrim, John, Luis Alejandro Lopez-Agudo, Oscar D Marcenaro-Gutierrez, and Nikki Shure. 2017. <span>“To Weight or Not to Weight?: The Case of PISA Data.”</span> In <em>Proceedings of the XXVI Meeting of the Economics of Education Association, Murcia, Spain</em>, 29–30.
</div>
<div id="ref-jerrim2018pisa" class="csl-entry" role="listitem">
Jerrim, John, John Micklewright, Jorg-Henrik Heine, Christine Salzer, and Caroline McKeown. 2018. <span>“PISA 2015: How Big Is the ‘Mode Effect’and What Has Been Done about It?”</span> <em>Oxford Review of Education</em> 44 (4): 476–93.
</div>
<div id="ref-OECD2018technical" class="csl-entry" role="listitem">
OECD. 2018. <span>“Technical Report.”</span> OECD, Paris. <a href="https://www.oecd.org/pisa/data/pisa2018technicalreport/PISA2018-TecReport-Ch-01-Programme-for-International-Student-Assessment-An-Overview.pdf">https://www.oecd.org/pisa/data/pisa2018technicalreport/PISA2018-TecReport-Ch-01-Programme-for-International-Student-Assessment-An-Overview.pdf</a>.
</div>
<div id="ref-OECD2019" class="csl-entry" role="listitem">
———. 2019. <em>PISA 2018 Results (Volume i)</em>. https://doi.org/<a href="https://doi.org/https://doi.org/10.1787/5f07c754-en">https://doi.org/https://doi.org/10.1787/5f07c754-en</a>.
</div>
<div id="ref-OECD2021adjusted" class="csl-entry" role="listitem">
———. 2021. <span>“PISA 2021 Adjusted Design.”</span> OECD, Paris. <a href="https://www.oecd.org/pisa/pisaproducts/PISA-2021-Adjusted-Design.pdf">https://www.oecd.org/pisa/pisaproducts/PISA-2021-Adjusted-Design.pdf</a>.
</div>
<div id="ref-rutkowski2016call" class="csl-entry" role="listitem">
Rutkowski, Leslie, and David Rutkowski. 2016. <span>“A Call for a More Measured Approach to Reporting and Interpreting PISA Results.”</span> <em>Educational Researcher</em> 45 (4): 252–57.
</div>
<div id="ref-zieger2022conditioning" class="csl-entry" role="listitem">
Zieger, Laura Raffaella, John Jerrim, Jake Anders, and Nikki Shure. 2022. <span>“Conditioning: How Background Variables Can Influence PISA Scores.”</span> <em>Assessment in Education: Principles, Policy &amp; Practice</em> 29 (6): 632–52.
</div>
</div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>